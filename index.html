<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Transform messy thoughts into clear messages in seconds. AI-powered message writing assistant.">
    
    <title>ClarityText - Transform Your Messages Instantly</title>
    
    <!-- Favicon -->
    <link rel="icon" href="/icon-192.png">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest-v2.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ClarityText">
    <meta name="theme-color" content="#6366F1">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/icon-192.png">
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366F1',
                        accent: '#F97316',
                    }
                }
            }
        }
    </script>
    
    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #6366F1 0%, #F97316 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        .fade-in-delay {
            animation: fadeIn 0.8s ease-in 0.2s backwards;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.05);
            }
        }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body class="bg-white">

    <!-- Navigation Header -->
    <nav class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center gap-3">
                    <img src="/icon-192.png" alt="ClarityText" class="w-10 h-10">
                    <span class="text-2xl font-bold text-primary">ClarityText</span>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#how-it-works" class="text-gray-600 hover:text-primary transition font-medium">How It Works</a>
                    <a href="#pricing" class="text-gray-600 hover:text-primary transition font-medium">Pricing</a>
                    <a href="#demo" class="text-gray-600 hover:text-primary transition font-medium">Try It</a>
                    <a href="#faq" class="text-gray-600 hover:text-primary transition font-medium">FAQ</a>
                    
                    <!-- Install App Button in Nav (Desktop) -->
                    <button 
                        id="install-app-btn-nav"
                        class="hidden bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition font-medium text-sm border border-green-500 flex items-center gap-2">
                        <span>ðŸ“±</span>
                        <span>Install</span>
                    </button>
                    
                    <button 
                        onclick="showLoginModal()"
                        class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition font-semibold">
                        Sign In
                    </button>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-gray-600 hover:text-primary">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu (Hidden by default) -->
    <div id="mobile-menu" class="hidden fixed inset-0 bg-white z-40 pt-20 px-4">
        <div class="flex flex-col gap-4">
            <a href="#how-it-works" class="text-gray-600 hover:text-primary transition font-medium py-2">How It Works</a>
            <a href="#pricing" class="text-gray-600 hover:text-primary transition font-medium py-2">Pricing</a>
            <a href="#demo" class="text-gray-600 hover:text-primary transition font-medium py-2">Try It</a>
            <a href="#faq" class="text-gray-600 hover:text-primary transition font-medium py-2">FAQ</a>
            <button 
                id="install-app-btn-mobile"
                class="hidden bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition font-semibold text-center">
                ðŸ“± Install App
            </button>
            <button onclick="showLoginModal()" class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold">
                Sign In
            </button>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="relative overflow-hidden bg-gradient-to-br from-indigo-50 via-white to-orange-50 pt-32 pb-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                
                <!-- Left Column: Text Content -->
                <div class="fade-in text-center lg:text-left">
                    <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 leading-tight mb-6">
                        Transform Messy Thoughts into 
                        <span class="text-gradient">Clear Messages</span>
                    </h1>
                    <p class="text-xl md:text-2xl text-gray-600 mb-8 leading-relaxed">
                        Brain dump your thoughts. AI polishes them into professional messages in 3 seconds. 
                        <strong>No more staring at blank screens.</strong>
                    </p>
                    
                    <!-- CTA Buttons with Install App -->
                    <div class="flex flex-col sm:flex-row gap-4 mb-8 justify-center lg:justify-start">
                        <!-- Primary CTA -->
                        <a href="#demo" 
                           class="bg-primary text-white px-8 py-4 rounded-lg hover:bg-indigo-700 transition font-semibold text-lg shadow-xl text-center inline-flex items-center justify-center gap-2">
                            <span>Try It Free</span>
                            <span class="text-sm opacity-75">(2 rewrites)</span>
                        </a>
                        
                        <!-- Install App Button (Hero) -->
                        <button 
                            id="install-app-btn-hero"
                            class="hidden bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-4 rounded-lg hover:from-green-700 hover:to-emerald-700 transition font-semibold text-lg shadow-xl border-2 border-green-500 inline-flex items-center justify-center gap-2">
                            <span class="text-2xl">ðŸ“±</span>
                            <span>Install App</span>
                        </button>
                    </div>
                    
                    <!-- Trust Signals -->
                    <div class="flex flex-wrap items-center justify-center lg:justify-start gap-6 text-sm text-gray-500">
                        <div class="flex items-center gap-2">
                            <span class="text-xl">âš¡</span>
                            <span>3-second transforms</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-xl">ðŸ”’</span>
                            <span>Private & secure</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-xl">âœ¨</span>
                            <span>No credit card</span>
                        </div>
                    </div>
                </div>
                
                <!-- Right Column: Visual Demo -->
                <div class="fade-in-delay">
                    <div class="bg-white rounded-2xl shadow-2xl p-8 border-2 border-indigo-100">
                        <!-- Before/After Example -->
                        <div class="space-y-6">
                            <!-- Before -->
                            <div>
                                <div class="text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide">Your Brain Dump:</div>
                                <div class="bg-gray-50 p-4 rounded-lg border-2 border-gray-200">
                                    <p class="text-gray-600 italic text-sm">
                                        "hey can we push the meeting? got stuck in traffic might be 15 min late sorry"
                                    </p>
                                </div>
                            </div>
                            
                            <!-- Arrow -->
                            <div class="text-center">
                                <div class="inline-flex items-center justify-center w-10 h-10 bg-primary rounded-full text-white">
                                    <span class="text-xl">â†“</span>
                                </div>
                            </div>
                            
                            <!-- After -->
                            <div>
                                <div class="text-xs font-semibold text-primary mb-2 uppercase tracking-wide">Polished Message:</div>
                                <div class="bg-gradient-to-br from-indigo-50 to-purple-50 p-4 rounded-lg border-2 border-primary">
                                    <p class="text-gray-800 text-sm">
                                        Hi team, I'm running about 15 minutes behind due to unexpected traffic. Would it be possible to push our meeting back slightly? I apologize for the inconvenience and will join as soon as I arrive.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
                    How It Works
                </h2>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                    Three simple steps to transform your thoughts into clear communication
                </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Step 1 -->
                <div class="text-center p-8 rounded-xl bg-gradient-to-br from-indigo-50 to-white border-2 border-indigo-100">
                    <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold">
                        1
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-4">Brain Dump</h3>
                    <p class="text-gray-600">
                        Type whatever comes to mind. Grammar? Spelling? Who cares. Just get it out.
                    </p>
                </div>
                
                <!-- Step 2 -->
                <div class="text-center p-8 rounded-xl bg-gradient-to-br from-purple-50 to-white border-2 border-purple-100">
                    <div class="w-16 h-16 bg-accent rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold">
                        2
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-4">Choose Style</h3>
                    <p class="text-gray-600">
                        Professional? Casual? Direct? Pick the tone that matches your need.
                    </p>
                </div>
                
                <!-- Step 3 -->
                <div class="text-center p-8 rounded-xl bg-gradient-to-br from-orange-50 to-white border-2 border-orange-100">
                    <div class="w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold">
                        3
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-4">Copy & Send</h3>
                    <p class="text-gray-600">
                        Get a polished message in 3 seconds. Copy, paste, and you're done.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-20 bg-gradient-to-br from-gray-50 to-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
                    Simple, Transparent Pricing
                </h2>
                <p class="text-xl text-gray-600">
                    Start free. Upgrade when you need more.
                </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                
                <!-- Free Plan -->
                <div class="bg-white rounded-2xl shadow-lg p-8 border-2 border-gray-200">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Free</h3>
                    <div class="mb-6">
                        <span class="text-5xl font-bold text-gray-900">$0</span>
                        <span class="text-gray-600">/forever</span>
                    </div>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">2 rewrites per day</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">3 free styles</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">No credit card</span>
                        </li>
                    </ul>
                    <a href="#demo" class="block w-full bg-gray-100 text-gray-900 text-center px-6 py-3 rounded-lg hover:bg-gray-200 transition font-semibold">
                        Try Now
                    </a>
                </div>
                
                <!-- Standard Plan -->
                <div class="bg-white rounded-2xl shadow-2xl p-8 border-4 border-primary relative transform scale-105">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-primary text-white px-4 py-1 rounded-full text-sm font-bold">
                        POPULAR
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Standard</h3>
                    <div class="mb-6">
                        <span class="text-5xl font-bold text-primary">$9</span>
                        <span class="text-gray-600">/month</span>
                    </div>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700"><strong>10 rewrites/day</strong></span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">All 7 writing styles</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">30-day history</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">Priority support</span>
                        </li>
                    </ul>
                    <button onclick="showLoginModal()" class="block w-full bg-primary text-white text-center px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold shadow-lg">
                        Get Started
                    </button>
                </div>
                
                <!-- Pro Plan -->
                <div class="bg-white rounded-2xl shadow-lg p-8 border-2 border-gray-200">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Pro</h3>
                    <div class="mb-6">
                        <span class="text-5xl font-bold text-accent">$15</span>
                        <span class="text-gray-600">/month</span>
                    </div>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700"><strong>20 rewrites/day</strong></span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">All 7+ styles</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">Unlimited history</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">Context learning</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">âœ“</span>
                            <span class="text-gray-700">Live chat support</span>
                        </li>
                    </ul>
                    <button onclick="showLoginModal()" class="block w-full bg-accent text-white text-center px-6 py-3 rounded-lg hover:bg-orange-600 transition font-semibold">
                        Get Pro
                    </button>
                </div>
                
            </div>
        </div>
    </section>

    <!-- Interactive Demo Section -->
    <section id="demo" class="py-20 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
                    Try It Now (Free!)
                </h2>
                <p class="text-xl text-gray-600">
                    No signup required. See the magic happen.
                </p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-2xl p-8 border-2 border-indigo-100">
                <!-- Input -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        Your messy thoughts:
                    </label>
                    <textarea 
                        id="demo-input"
                        class="w-full h-32 p-4 border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none text-base resize-none"
                        placeholder="Type anything... 'need to reschedule call tomorrow morning not feeling well'"></textarea>
                </div>
                
                <!-- Style Selector -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">Choose style:</label>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <button onclick="selectDemoStyle('professional')" 
                                class="demo-style-btn px-4 py-3 border-2 border-primary bg-primary text-white rounded-lg hover:bg-primary/90 transition font-medium text-sm" 
                                data-style="professional">
                            Professional
                        </button>
                        <button onclick="selectDemoStyle('direct')" 
                                class="demo-style-btn px-4 py-3 border-2 border-gray-300 rounded-lg hover:border-primary transition font-medium text-sm" 
                                data-style="direct">
                            Direct
                        </button>
                        <button onclick="selectDemoStyle('email')" 
                                class="demo-style-btn px-4 py-3 border-2 border-gray-300 rounded-lg hover:border-primary transition font-medium text-sm" 
                                data-style="email">
                            Email
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">4 more styles available with paid plans</p>
                </div>
                
                <!-- Transform Button -->
                <button 
                    id="demo-transform-btn"
                    onclick="handleDemoTransform()" 
                    class="w-full bg-primary text-white px-6 py-4 rounded-lg hover:bg-indigo-700 transition font-semibold text-lg shadow-lg">
                    Transform Message
                </button>
                
                <!-- Output -->
                <div id="demo-output" class="mt-6 hidden">
                    <label class="block text-sm font-semibold text-primary mb-2">
                        Your polished message:
                    </label>
                    <div class="bg-gradient-to-br from-indigo-50 to-purple-50 p-4 rounded-lg border-2 border-primary">
                        <p id="demo-output-content" class="text-gray-800 whitespace-pre-wrap"></p>
                    </div>
                    <div class="mt-4 flex gap-3">
                        <button 
                            onclick="copyDemoOutput()" 
                            class="flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition font-semibold">
                            Copy to Clipboard
                        </button>
                        <button onclick="showLoginModal()" class="flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold">
                            Sign Up for More
                        </button>
                    </div>
                </div>
                
                <!-- Usage Counter -->
                <p id="demo-counter" class="text-center text-sm text-gray-600 mt-4">
                    <!-- Updated by JavaScript -->
                </p>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-20 bg-gray-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
                    Frequently Asked Questions
                </h2>
            </div>
            
            <div class="space-y-6">
                <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Is it really free?</h3>
                    <p class="text-gray-600">Yes! You get 2 rewrites per day forever with no credit card required. Upgrade anytime for more.</p>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">What styles are available?</h3>
                    <p class="text-gray-600">Free: Professional, Direct, Email. Paid: Persuasive, Casual, Formal, Empathetic. More styles added monthly!</p>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Can I install this as an app?</h3>
                    <p class="text-gray-600">Absolutely! ClarityText works as a Progressive Web App (PWA). Just click "Install App" and use it like a native app on desktop or mobile.</p>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Is my data private?</h3>
                    <p class="text-gray-600">100%. Your messages are processed securely and never stored unless you save them to history (paid plans). We don't train AI on your data.</p>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Can I cancel anytime?</h3>
                    <p class="text-gray-600">Yes! Cancel your subscription anytime with one click. No questions asked, no hidden fees.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-gradient-to-br from-primary to-indigo-700">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
                Stop Struggling With Words
            </h2>
            <p class="text-xl text-indigo-100 mb-8">
                Join thousands who transform their thoughts into clear messages every day.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#demo" class="bg-white text-primary px-8 py-4 rounded-lg hover:bg-gray-100 transition font-semibold text-lg shadow-xl">
                    Try It Free
                </a>
                <button 
                    id="install-app-btn-cta"
                    class="hidden bg-green-600 text-white px-8 py-4 rounded-lg hover:bg-green-700 transition font-semibold text-lg shadow-xl border-2 border-white">
                    ðŸ“± Install App
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h3 class="text-white font-bold text-lg mb-4">ClarityText</h3>
                    <p class="text-sm">Transform messy thoughts into clear messages, instantly.</p>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Product</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#how-it-works" class="hover:text-white transition">How It Works</a></li>
                        <li><a href="#pricing" class="hover:text-white transition">Pricing</a></li>
                        <li><a href="#demo" class="hover:text-white transition">Try It Free</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Company</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="hover:text-white transition">About</a></li>
                        <li><a href="#" class="hover:text-white transition">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-white transition">Terms of Service</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#faq" class="hover:text-white transition">FAQ</a></li>
                        <li><a href="#" class="hover:text-white transition">Contact</a></li>
                        <li><a href="#" class="hover:text-white transition">Help Center</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8 text-center text-sm">
                <p>&copy; 2025 ClarityText. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal (Hidden by default) -->
    <div id="login-modal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">Sign In to ClarityText</h2>
            <button onclick="window.location.href='/app.html'" class="w-full bg-primary text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-semibold mb-4">
                Continue to App
            </button>
            <button onclick="hideLoginModal()" class="w-full bg-gray-100 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-200 transition font-semibold">
                Cancel
            </button>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ============================================
        // CONFIGURATION
        // ============================================
        
        const SUPABASE_URL = 'https://ieeujkkggjufhmztvdyr.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImllZXVqa2tnZ2p1ZmhtenR2ZHlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NTEzNDgsImV4cCI6MjA3NzQyNzM0OH0.DwW8tiEzxHalnGETO9gfVpD257S_7-OJ6qRjoI25NH8';
        
        const API_ENDPOINT = '/api/rewrite';
        
        let selectedDemoStyle = 'professional';
        let demoUsageCount = 0;
        const DEMO_LIMIT = 2;
        
        // ============================================
        // PWA INSTALL BUTTON HANDLERS
        // ============================================
        
        let deferredPrompt;
        const installBtnHero = document.getElementById('install-app-btn-hero');
        const installBtnNav = document.getElementById('install-app-btn-nav');
        const installBtnMobile = document.getElementById('install-app-btn-mobile');
        const installBtnCta = document.getElementById('install-app-btn-cta');
        
        // Capture the install prompt event
        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('âœ… PWA is installable!');
            e.preventDefault();
            deferredPrompt = e;
            
            // Show all install buttons
            [installBtnHero, installBtnNav, installBtnMobile, installBtnCta].forEach(btn => {
                if (btn) {
                    btn.classList.remove('hidden');
                    // Add pulse animation for 3 seconds
                    btn.classList.add('animate-pulse');
                    setTimeout(() => btn.classList.remove('animate-pulse'), 3000);
                }
            });
        });
        
        // Handle install button clicks
        function handleInstallClick() {
            if (!deferredPrompt) {
                console.log('Install prompt not available');
                return;
            }
            
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted install');
                } else {
                    console.log('User dismissed install');
                }
                deferredPrompt = null;
                
                // Hide all install buttons
                [installBtnHero, installBtnNav, installBtnMobile, installBtnCta].forEach(btn => {
                    if (btn) btn.classList.add('hidden');
                });
            });
        }
        
        // Add click handlers to all install buttons
        [installBtnHero, installBtnNav, installBtnMobile, installBtnCta].forEach(btn => {
            if (btn) btn.addEventListener('click', handleInstallClick);
        });
        
        // Listen for successful installation
        window.addEventListener('appinstalled', (e) => {
            console.log('PWA installed successfully');
            [installBtnHero, installBtnNav, installBtnMobile, installBtnCta].forEach(btn => {
                if (btn) btn.classList.add('hidden');
            });
        });
        
        // Check if already installed
        if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true) {
            console.log('App is already installed');
            [installBtnHero, installBtnNav, installBtnMobile, installBtnCta].forEach(btn => {
                if (btn) btn.style.display = 'none';
            });
        }
        
        // ============================================
        // DEMO FUNCTIONALITY
        // ============================================
        
        // Load demo usage from localStorage
        function loadDemoUsage() {
            const today = new Date().toISOString().split('T')[0];
            const stored = localStorage.getItem('claritytext_demo');
            
            if (stored) {
                const data = JSON.parse(stored);
                if (data.date === today) {
                    demoUsageCount = data.count;
                } else {
                    demoUsageCount = 0;
                    localStorage.setItem('claritytext_demo', JSON.stringify({ date: today, count: 0 }));
                }
            } else {
                localStorage.setItem('claritytext_demo', JSON.stringify({ date: today, count: 0 }));
            }
            
            updateDemoCounter();
        }
        
        function updateDemoCounter() {
            const remaining = DEMO_LIMIT - demoUsageCount;
            const counter = document.getElementById('demo-counter');
            if (counter) {
                counter.textContent = `${remaining} free demo${remaining !== 1 ? 's' : ''} remaining today`;
            }
        }
        
        function incrementDemoUsage() {
            const today = new Date().toISOString().split('T')[0];
            demoUsageCount++;
            localStorage.setItem('claritytext_demo', JSON.stringify({ date: today, count: demoUsageCount }));
            updateDemoCounter();
        }
        
        function selectDemoStyle(style) {
            selectedDemoStyle = style;
            
            document.querySelectorAll('.demo-style-btn').forEach(btn => {
                btn.classList.remove('bg-primary', 'text-white', 'border-primary');
                btn.classList.add('border-gray-300');
            });
            
            const selectedBtn = document.querySelector(`[data-style="${style}"]`);
            if (selectedBtn) {
                selectedBtn.classList.add('bg-primary', 'text-white', 'border-primary');
                selectedBtn.classList.remove('border-gray-300');
            }
        }
        
        async function handleDemoTransform() {
            const input = document.getElementById('demo-input').value.trim();
            const btn = document.getElementById('demo-transform-btn');
            const output = document.getElementById('demo-output');
            const outputContent = document.getElementById('demo-output-content');
            
            if (!input) {
                alert('Please enter some text first!');
                return;
            }
            
            if (demoUsageCount >= DEMO_LIMIT) {
                alert('You\'ve used all 2 free demos today. Sign up to continue!');
                showLoginModal();
                return;
            }
            
            btn.innerHTML = 'â³ Transforming...';
            btn.disabled = true;
            
            try {
                const response = await fetch(API_ENDPOINT, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        text: input,
                        style: selectedDemoStyle
                    })
                });
                
                if (!response.ok) {
                    throw new Error('Transformation failed');
                }
                
                const result = await response.json();
                outputContent.textContent = result.result;
                output.classList.remove('hidden');
                
                incrementDemoUsage();
                
                output.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
            } catch (error) {
                console.error('Error:', error);
                alert('Error transforming message. Please try again.');
            } finally {
                btn.innerHTML = 'Transform Message';
                btn.disabled = false;
            }
        }
        
        function copyDemoOutput() {
            const content = document.getElementById('demo-output-content').textContent;
            navigator.clipboard.writeText(content).then(() => {
                alert('âœ“ Copied to clipboard!');
            });
        }
        
        // ============================================
        // UI HELPERS
        // ============================================
        
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }
        
        function showLoginModal() {
            document.getElementById('login-modal').classList.remove('hidden');
        }
        
        function hideLoginModal() {
            document.getElementById('login-modal').classList.add('hidden');
        }
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
                // Close mobile menu if open
                document.getElementById('mobile-menu').classList.add('hidden');
            });
        });
        
        // ============================================
        // INITIALIZE
        // ============================================
        
        loadDemoUsage();
        
        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(reg => console.log('Service Worker registered'))
                .catch(err => console.log('Service Worker registration failed:', err));
        }
        
    </script>
    
</body>
</html>
